// _circles.scss
$circle-base: calc(25vw + 20rem);
$circle-count: 65;

.circles-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translateX(-50%) translateY(-50%);
  width: $circle-base;
  height: $circle-base;
  padding: 0;

  &.grey {

    .circles {

      div {
        border-color: $grey;
      }
    }
  }

  &.blue {

    .circles {

      div {
        border-color: $blue;
      }
    }
  }

  &.lavander {

    .circles {

      div {
        border-color: $lavander;
      }
    }
  }

  &.orange {

    .circles {

      div {
        border-color: $orange;
      }
    }
  }
}

.circles {
  width: 100%;
  height: 100%;
  background: $cream;
  position: relative;
  border-color: $blue !important;

  div {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform: translateX(0.5%) translateY(0.5%);
    border-radius: 50%;
    border: 0.1rem solid;
    border-color: inherit;
    transition: all 0.3s;

    // messing around with shapes
    // border-radius: 0;
    cursor: crosshair;
  }
}

@for $i from 1 through $circle-count {
  $z-base: 1;
  $mod1: .55;
  $mod1: .66;
  $mod2: .5;
  $mod2: .72;
  $h: 195 - ($i * 10);
  $s: 87 + ($i * 5);
  $l: 55 - ($i * 0.25);
  $fade-color: hsla($h, $s, $l, .5);

  @keyframes fadeColor-#{$i} {
    0% {
      border-color: $blue;
    }
    50% {
      border-color: $fade-color;
    }
    100% {
      border-color: $blue;
    }
  }

  .circles div:nth-of-type(#{$i}) {
    top: 1% * $mod1 * $i;
    left: 1% * $mod1 * $i;
    width: 100% - ($mod2 * $i);
    height: 100% - ($mod2 * $i);
    z-index: $z-base + $i;

    &.grey {
      animation-name: fadeColor-#{$i};
      animation-duration: 0.3s;
      border: 2rem solid;
    }
  }
}